Django Basic Notes

Django Overview

â€¢ Python framework for web development.

â€¢ Follows MVT (Model-View-Template) pattern.

â€¢ Default database: SQLite3.

â€¢ Supports MySQL and PostgreSQL.

â€¢ Default port: 8000.

MVT Pattern

â€¢ Model: Handles database.

â€¢ View: Contains logic.

â€¢ Template: Manages frontend (using DTL).

Databases

â€¢ SQLite3 (default) for development.

â€¢ Supports MySQL, PostgreSQL, Oracle.

â€¢ Configure in settings.py using database credentials.

Microservices

â€¢ Flask: Lightweight, for small applications.

â€¢ FastAPI: Fast and asynchronous API development.

â€¢ CherryPy: Minimalistic web framework.

MVT vs MVC

â€¢ MVT (Model-View-Template) - Django follows this pattern. 

o Model: Handles database (data storage).

o View: Contains logic to process data.

o Template: Displays the data using HTML.

â€¢ MVC (Model-View-Controller) - Used in other frameworks like Flask. 

o Model: Manages data and database.

o View: Displays data using UI.

o Controller: Handles user input and business logic.

In Django, the Controller part is handled by the framework itself (Djangoâ€™s built-in functions).

Django ORM vs SQL

â€¢ Django ORM (Object Relational Mapping)

o Python-based way to interact with the database.

o Example: 

User.objects.create(name='John', age=25)

â€¢ SQL (Structured Query Language)

o Direct query to the database.

o Example: 

INSERT INTO User (name, age) VALUES ('John', 25);

ORM is easier to write, maintain, and reduces errors compared to raw SQL.
Django vs Flask vs FastAPI

â€¢ Django: Best for large projects with pre-built features (Admin Panel, ORM).

â€¢ Flask: Lightweight and flexible, ideal for small projects or APIs.

â€¢ FastAPI: Best for real-time applications with excellent API support and speed.

Virtual Environment Setup (Python)

A virtual environment is a self-contained directory that contains Python installations and 

packages, allowing you to manage dependencies for different projects.

Commands to Create and Activate Virtual Environment

1. Create Virtual Environment

py -m venv env

o py â†’ Runs Python

o -m venv â†’ Module to create a virtual environment

o env â†’ Environment folder name

2. Navigate to Environment Folder

cd env

cd Scripts

3. Activate Virtual Environment

./activate

o (env) â†’ Indicates the virtual environment is active.

Fixing Execution Policy Issues

If you face issues activating the environment due to restricted execution policies:

1. Check Execution Policy (in Windows PowerShell run as Administrator)

get-executionpolicy

o It may show Restricted.

2. Change Execution Policy (Run as Administrator in Windows PowerShell)

set-executionpolicy unrestricted

o Choose Y to confirm.

Folder Structure of Virtual Environment

â€¢ env/ â†’ Root folder for environment 

o Include/ â†’ C/C++ packages

o Lib/ â†’ Python packages

o Scripts/ â†’ Executable files (activate)

o pyvenv.cfg â†’ Configuration file

Interview Tips - Common Questions

1. What is a Python virtual environment?

o A virtual environment is a self-contained Python setup for project-specific 

dependencies.

2. Why use a virtual environment instead of installing globally?

o It prevents package conflicts, ensures project isolation, and avoids system-level 

changes.
Django Project Setup and Notes

Prerequisites 

 Python and Pip (Python's package manager) must be installed.

Required Packages

â€¢ asgiref: For asynchronous support (ASGI - Asynchronous Server Gateway Interface)

â€¢ sqlparse: For SQL query parsing

â€¢ tzdata: Provides timezone data

â€¢ Django: The main framework for web development

Installation Steps

Create a Virtual Environment

py -m venv env

Activate the Virtual Environment

.\env\Scripts\

./activate

cd ../../

Install Django (in Main Folder)

pip install django

Verify Installation

django-admin --version

Create a Django Project

Start a New Project

django-admin startproject project_name

Navigate to the Project Directory

cd project_name

How to Run Django

â€¢ Use the following command to run the server on port 8000:

python manage.py runserver

â€¢ Access the project at http://127.0.0.1:8000.

â€¢ Ctrl + C to stop the server.

Directory Structure After Creation project_name 

project_name/ (Outer Project)

â”‚

â”œâ”€â”€ manage.py # Command-line utility for managing the project
â”œâ”€â”€ project_name/ # Project settings and configurations

â”‚ â”œâ”€â”€ __init__.py # Marks this directory as a Python package

â”‚ â”œâ”€â”€ asgi.py # Entry point for ASGI applications

â”‚ â”œâ”€â”€ settings.py # Project settings

â”‚ â”œâ”€â”€ urls.py # URL routing

â”‚ â”œâ”€â”€ wsgi.py # Entry point for WSGI applications

â”œâ”€â”€ db.sqlite3 # Default Database

Additional Notes

â€¢ cd ../ â†’ Move to the previous directory

â€¢ cd ./ â†’ Remain in the current directory

â€¢ Dependencies like asgiref, sqlparse, and tzdata are installed automatically with Django.

Managing Virtual Environment

â€¢ Always run .\activate from the Scripts directory to activate the virtual environment.

â€¢ All installed packages are available in lib\site-packages.

Update Pip (optional)

python.exe -m pip install --upgrade pip
Django Project Structure - Interview Notes

Outer Project Structure

â€¢	manage.py

o	Acts as the heart or brain of a Django project.

o	Used as a utility tool for administrative operations (e.g., running the server, migrations).

o	Do not modify it.

â€¢	db.sqlite3 (Default Database)

o	SQLite is the default relational database in Django.

o	Data is stored in a tabular format (rows and columns).

o	Relational Database: Prevents memory wastage by storing structured data efficiently.

o	Non-Relational Database: Uses key-value pair storage (e.g., NoSQL), leading to memory wastage if columns are added without data.

o	Row: Referred to as an Instance in Django ORM.

 

Inner Project Folder

Contains essential files and configurations to manage the application.

â€¢	__init__.py

o	An empty file that makes the directory a Python package.

â€¢	asgi.py (Asynchronous Server Gateway Interface)

o	Handles multiple requests at a time (asynchronous).

o	Suitable for real-time applications like: 

Live Streaming, Trading Platforms, WebSockets, Live Cricket Score Updates.

â€¢	wsgi.py (Web Server Gateway Interface)

o	Handles single requests at a time (synchronously).

o	Suitable for normal websites and applications.

o	Django supports WSGI by default.

â€¢	settings.py

o	The core configuration file for the project.

o	Manages: 

ï‚§	Port management

ï‚§	Application settings

ï‚§	Database configurations

ï‚§	Middleware and Installed Apps

â€¢	urls.py

o	Handles URL routing.

o	Maps URLs to views.

 

Django Project Essentials â€“ Quick Notes

ðŸ“‚ File Location: settings.py

ðŸ“Œ BASE_DIR

â€¢	BASE_DIR represents the root directory of your Django project.

â€¢	It helps in defining paths for templates, static files, database, and more.

âš¡ Secret Key

â€¢	SECRET_KEY = 'django-insecure-79zs...'

â€¢	Used for encryption (cookies, CSRF tokens, sessions).

â€¢	âŒ Never expose in production! Use .env file or environment variables.

ðŸž Debug Mode

â€¢	DEBUG = True â†’ Shows detailed errors (for development).

â€¢	DEBUG = False â†’ Hides errors in production (for security).

ðŸŒ Allowed Hosts

â€¢	ALLOWED_HOSTS = [] â†’ Defines which domains can access the app.

â€¢	Example for production: ['example.com', 'www.example.com'].

 

ðŸ“‚ File Location: settings.py

ðŸ“¦ Installed Apps

â€¢	INSTALLED_APPS â†’ Lists all built-in and custom Django apps.

â€¢	Example:

python

CopyEdit

INSTALLED_APPS = [

    'django.contrib.admin',   # Admin Panel

    'django.contrib.auth',    # Authentication System

    'myapp',                  # Custom App

]

ðŸ§± Middleware

â€¢	Middleware processes requests before they reach views.

â€¢	Example: CsrfViewMiddleware (prevents CSRF attacks).

 

ðŸ“‚ File Location: project/urls.py

ðŸ“Œ Root URL Configuration

â€¢	ROOT_URLCONF = 'project.urls' â†’ Points to the main urls.py.

â€¢	Example URL mapping:

python

CopyEdit

from django.urls import path

from myapp import views



urlpatterns = [

    path('', views.home, name='home'),

    path('about/', views.about, name='about'),

]

 

ðŸ“‚ File Location: settings.py

ðŸŽ­ Templates

â€¢	Stores HTML files for rendering the frontend.

â€¢	Example configuration:

python

CopyEdit

TEMPLATES = [

    {

        'BACKEND': 'django.template.backends.django.DjangoTemplates',

        'DIRS': ['templates'],  # Custom templates directory

        'APP_DIRS': True,

    },

]

 

ðŸ“‚ File Location: wsgi.py & asgi.py

ðŸ–¥ï¸ WSGI Application

â€¢	wsgi.py â†’ Used for deploying Django apps with WSGI servers (Gunicorn, uWSGI).

âš¡ ASGI Application

â€¢	asgi.py â†’ Supports real-time features (WebSockets, chat, live updates).

 

ðŸ“‚ File Location: settings.py

ðŸ—„ï¸ Database Configuration

â€¢	Default: SQLite (db.sqlite3).

â€¢	Can switch to PostgreSQL, MySQL, etc.

python

CopyEdit

DATABASES = {

    'default': {

        'ENGINE': 'django.db.backends.sqlite3',

        'NAME': BASE_DIR / 'db.sqlite3',

    }

}

ðŸ”’ Password Validators

â€¢	Ensures strong passwords (length, no common words, complexity).

ðŸŒ Internationalization & Time Zone

â€¢	LANGUAGE_CODE = 'en-us', TIME_ZONE = 'UTC'.

ðŸ–¼ï¸ Static Files

â€¢	STATIC_URL = 'static/' â†’ Stores CSS, JS, and images.

ðŸ†” Default Primary Key Field

â€¢	DEFAULT_AUTO_FIELD = 'django.db.models.BigAutoField' â†’ Default primary key type.

 

ðŸ“‚ File Location: manage.py

ðŸ§‘â€ðŸ’» manage.py

â€¢	Runs Django commands like:

bash

CopyEdit

python manage.py runserver      # Start server

python manage.py migrate        # Apply database migrations

python manage.py startapp myapp # Create a new app

 

Final Revision Summary

âœ” manage.py â†’ Runs Django commands.

âœ” wsgi.py â†’ Deploys app with WSGI.

âœ” asgi.py â†’ Supports real-time features.

âœ” urls.py â†’ Handles URL routing.

âœ” settings.py â†’ Configures database, security, static files, and middleware.

ðŸ’¡ Tip: Set DEBUG = False in production for security. ðŸš€

 

âœ… Summary for Revision

o	BASE_DIR: Project path management.

o	SECRET_KEY: Used for security, keep it private.

o	DEBUG: Enables detailed error reports in development.

o	ALLOWED_HOSTS: Controls which domains can access your site.

o	INSTALLED_APPS: Pre-installed and custom apps.

o	MIDDLEWARE: Security and functionality management.

o	ROOT_URLCONF: Directs to URL routing file.

o	TEMPLATES: Manages HTML templates for frontend.

o	WSGI_APPLICATION: Interface for deploying the app.

o	DATABASES: Configures database using SQLite by default.

o	AUTH_PASSWORD_VALIDATORS: Ensures strong passwords.

o	LANGUAGE_CODE & TIME_ZONE: Controls language and time settings.

o	STATIC_URL: Path for serving static files.

Django Project and App Structure Notes

Creating an App

Start a New App:

python manage.py startapp app_name

App Structure:

app_name/

â”œâ”€â”€ __init__.py

â”œâ”€â”€ admin.py        # Manage data via Admin Panel

â”œâ”€â”€ apps.py         # App configuration

â”œâ”€â”€ migrations/     # Tracks database changes

â”œâ”€â”€ models.py       # Database Models (ORM)

â”œâ”€â”€ tests.py        # Testing application

â”œâ”€â”€ views.py        # Logic for handling requests

Explanation:

admin.py â†’ Register models to view in Admin Panel.

apps.py â†’ Configures app settings.

migrations/ â†’ Contains files that record model changes (e.g., 0001_initial.py).

models.py â†’ Define database tables using ORM.

tests.py â†’ Write unit tests.

views.py â†’ Contains functions or class-based views for request handling.

 

Migrations

ORM (Object-Relational Mapping)

Converts Python code (models) into SQL queries.

Communicates with the database using Python objects.

Steps for Migrations:

Create Migrations:

python manage.py makemigrations

Converts models to SQL queries.

Apply Migrations:

python manage.py migrate

Applies the SQL queries to the database.

Example Workflow:

python manage.py makemigrations   # Generate migration files

python manage.py migrate           # Apply migrations to database

Tip: Use SQLite Viewer Extension in VS Code to view database content.

 

Importing and Using

In Admin Panel

First, register the model in admin.py:

from django.contrib import admin

from .models import ModelName



admin.site.register(ModelName)

Then run:

python manage.py createsuperuser

python manage.py runserver

Access the Admin Panel at http://127.0.0.1:8000/admin

In Views

Example function in views.py:

from django.http import HttpResponse



def home(request):

    return HttpResponse("Hello, Django!")

Add it to urls.py:

from django.urls import path

from .views import home



urlpatterns = [

    path('', home),

]

 

Quick Summary for Interview Prep:

Command	Description

python manage.py startproject project_name	Create a new Django project

python manage.py startapp app_name	Create a new app within the project

python manage.py runserver	Run the development server

python manage.py makemigrations	Convert model changes into SQL queries

python manage.py migrate	Apply SQL queries to the database

python manage.py createsuperuser	Create an admin user

python manage.py shell	Open an interactive Python shell with project settings loaded

 

Port Number Management in Django

Static Port Change:

You can change the port statically by modifying the server run command in the following path:

env/lib/site-packages/django/core/management/commands/

1.	open 40 line approx.

2.	Locate the line defining the default port:

3.	default_port = '8000'

4.	Change it to your desired port:

5.	default_port = '8080'  # Example static port

6.	Save the file and run the server using:

7.	python manage.py runserver

Dynamic Port Management:

â€¢	You can specify a different port dynamically using the runserver command:

python manage.py runserver 8002

â€¢	This will start the server on 127.0.0.1:8002.

 

Basic Concepts

â€¢	Create Project Environment: Virtual environment created using venv

â€¢	Structure:

o	env/lib/site-packages (includes Django, Core Packages)

o	Management commands with manage.py

 

Dynamic Management with manage.py

â€¢	manage.py runs the server on port 8000 by default or on the specified port.

â€¢	Multiple servers can run on different ports.

â€¢	Entry Point for commands: manage.py

Server Concept:

â€¢	WSGI (Web Server Gateway Interface): Interface for communication between web servers and Python applications.

â€¢	Debug using print() in:

o	wsgi.py

o	manage.py

o	settings.py

 

Create a Project and App

â€¢	Create Project:

â€¢	django-admin startproject project_name

â€¢	Create App:

â€¢	python manage.py startapp app_name

 

 Virtual Environment Management

1.	Create Environment:

2.	python -m venv env

3.	Activate Environment:

4.	cd env/Scripts/

5.	activate

6.	Install Django:

7.	pip install django

 

Run Server

â€¢	Start Server:

â€¢	python manage.py runserver

â€¢	Check Port (Default: 127.0.0.1:8000)

â€¢	If Red Color Error -> Port Conflict

 

Database Management

â€¢	Migrate Changes:

â€¢	python manage.py migrate

â€¢	Make Migrations (Reflect App in DB):

â€¢	python manage.py makemigrations app_name







